@model LMS.ViewModels.NewRentalViewModel
@{
    ViewBag.Title = "New Rental";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>New Rental</h2>
<hr />
<div class="container">
    <div class="row">
        <div class="col-sm-6">
            <h4>Book Copy</h4>
        </div>
        <div class="col-sm-6">
            <h4>Customer</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            @if(Model.Copy != null)
            {
                <table class="table table-condensed">
                    <tr>
                        <th>Copy Id</th>
                        <td>@Model.Copy.Id</td>
                    </tr>
                    <tr>
                        <th>Title</th>
                        <td>@Model.Copy.Book.Title</td>
                    </tr>
                </table>
            }
        </div>
        <div class="col-sm-6">
            @if (Model.Customer != null)
            {
                <table class="table table-condensed">
                    <tr>
                        <th>Card Id</th>
                        <td>@Model.Customer.CardId</td>
                    </tr>
                    <tr>
                        <th>Name</th>
                        <td>@Model.Customer.Name</td>
                    </tr>
                </table>
            }
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            @Html.RouteLink(Model.CopyId.HasValue ? "Change" : "Choose", new { controller = "books", action = "choose", customerId = Model.CustomerId }, new { @class = "btn btn-primary my-2" })
        </div>
        <div class="col-sm-6">
            @Html.RouteLink(Model.CustomerId.HasValue ? "Change" : "Choose", new { controller = "customers", action = "choose", bookId = Model.BookId, copyId = Model.CopyId }, new { @class = "btn btn-primary my-2" })
        </div>
    </div>
</div>
<hr />
@if (Model.Copy != null && Model.Customer != null)
{
    <h4>Copy Location</h4>
    <table class="table table-responsive table-bordered">
        <tr class="d-flex">
            <th class="col-sm-2">Shelf</th>
            <td class="col-sm-10">@Model.Copy.Inventory.Shelf</td>
        </tr>
        <tr>
            <th>Column</th>
            <td>@Model.Copy.Inventory.Column</td>
        </tr>
        <tr>
            <th>Row</th>
            <td>@Model.Copy.Inventory.Row</td>
        </tr>
    </table>
    <form method="get" action="/rentals/add">
        <div class="form-group">
            <label class="h4">Rental Duration (Days)</label>
            <input value="15" type="number" min="1" class="form-control" name="duration" />
        </div>
        <input name="copyId" value="@Model.CopyId.Value" hidden />
        <input name="customerId" value="@Model.CustomerId.Value" hidden />
        <button type="submit" class="btn btn-success"><i class="fa fa-check"></i> Confirm</button>
    </form>
}